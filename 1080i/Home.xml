<?xml version="1.0" encoding="UTF-8"?>
<window>
    
	<onload condition="System.HasAddon(script.favourites)">RunScript(script.favourites)</onload>
	<onload>RunScript(script.skinshortcuts,type=buildxml&amp;mainmenuID=300&amp;group=mainmenu|powermenu)</onload>
    <onload condition="System.HasAddon(script.skin.info.service) + String.IsEmpty(Window(home).Property(skininfos_daemon_running))">RunScript(script.skin.info.service)</onload>
    <!-- Establish list as default view if no default view is set -->
	<onload condition="!Skin.HasSetting(UseListDefault) + !Skin.HasSetting(UseTallListDefault) + !Skin.HasSetting(UseLowListDefault) + !Skin.HasSetting(UseBigListDefault) + !Skin.HasSetting(UsePanelDefault) + 
	                   !Skin.HasSetting(UsePanel2Default) + !Skin.HasSetting(UseBigPanelDefault) + !Skin.HasSetting(UseBigPanel2Default) + !Skin.HasSetting(UseIconsDefault) + !Skin.HasSetting(UseFanartDefault)">Skin.SetBool(UseListDefault)</onload>
	<onunload condition="!String.IsEmpty(Container(300).ListItem.Property(Background))">Skin.SetString(FocusedMenu.Background,$INFO[Container(300).ListItem.Property(Background)])</onunload>
    <onunload condition="!String.IsEmpty(Container(300).ListItem.Property(backgroundPlaylist))">Skin.SetString(FocusedMenu.BackgroundPlaylist,$INFO[Container(300).ListItem.Property(backgroundPlaylist)])</onunload>
	<onunload condition="System.HasAddon(plugin.video.themoviedb.helper)">ClearProperty(TMDbHelper.WidgetContainer,home)</onunload>
	<defaultcontrol always="true">300</defaultcontrol>
	<controls>
		
		<control type="list" id="9988">
			<description>hidden container for playlist background</description>
			<posx>-20</posx>
			<posy>-20</posy>
			<width>1</width>
			<height>1</height>
			<include>AutoscrollTime</include>
			<itemlayout />
	        <focusedlayout />
			<content sortby="random" limit="25">$INFO[Container(300).ListItem.Property(backgroundPlaylist)]</content>
		</control>
		
		<control type="list" id="9989">
			<description>hidden container for playlist background using embuary helper</description>
			<posx>-20</posx>
			<posy>-20</posy>
			<width>1</width>
			<height>1</height>
			<include>AutoscrollTime</include>
			<itemlayout />
	        <focusedlayout />
			<content sortby="random" limit="25">plugin://script.embuary.helper?info=getfanartsbypath&amp;path='"$INFO[Container(300).ListItem.Property(backgroundPlaylist)]"'&amp;reload=$INFO[Window(home).Property(EmbuaryWidgetUpdate)]</content>
		</control>
		
		
        <control type="list" id="9980">
			<description>hidden container for video addons, for addon count infoline</description>
			<posx>-20</posx>
			<posy>-20</posy>
			<width>1</width>
			<height>1</height>
			<itemlayout width="1" height="1">
			</itemlayout>
			<focusedlayout height="1" width="1">
			</focusedlayout>
			<content>addons://sources/video</content>
		</control>
        
        <control type="list" id="9981">
			<description>hidden container for audio addons, for addon count infoline</description>
			<posx>-20</posx>
			<posy>-20</posy>
			<width>1</width>
			<height>1</height>
			<itemlayout width="1" height="1">
			</itemlayout>
			<focusedlayout height="1" width="1">
			</focusedlayout>
			<content>addons://sources/audio</content>
		</control>
        
        <control type="list" id="9982">
			<description>hidden container for program addons, for addon count infoline</description>
			<posx>-20</posx>
			<posy>-20</posy>
			<width>1</width>
			<height>1</height>
			<itemlayout width="1" height="1">
			</itemlayout>
			<focusedlayout height="1" width="1">
			</focusedlayout>
			<content>addons://sources/executable</content>
		</control>
        
        <control type="list" id="9983">
			<description>hidden container for picture addons, for addon count infoline</description>
			<posx>-20</posx>
			<posy>-20</posy>
			<width>1</width>
			<height>1</height>
			<itemlayout width="1" height="1">
			</itemlayout>
			<focusedlayout height="1" width="1">
			</focusedlayout>
			<content>addons://sources/image</content>
		</control>
        
        <control type="list" id="9984">
			<description>hidden container for game addons, for addon count infoline</description>
			<posx>-20</posx>
			<posy>-20</posy>
			<width>1</width>
			<height>1</height>
			<itemlayout width="1" height="1">
			</itemlayout>
			<focusedlayout height="1" width="1">
			</focusedlayout>
			<content>addons://sources/game</content>
		</control>
        
        <control type="list" id="9985">
			<description>hidden container for all addons, for addon count infoline</description>
			<posx>-20</posx>
			<posy>-20</posy>
			<width>1</width>
			<height>1</height>
			<itemlayout width="1" height="1">
			</itemlayout>
			<focusedlayout height="1" width="1">
			</focusedlayout>
			<content>addons://user/all</content>
		</control>
        <!-- Hidden list for movies fanart background -->
        <control type="list" id="12341">
	        <content sortby="random" limit="25">videodb://movies/titles/</content>
	        <include>AutoscrollTime</include>
	        <itemlayout />
	        <focusedlayout />
            <posx>-20</posx>
			<posy>-20</posy>
			<width>1</width>
			<height>1</height>
        </control>
        <!-- Hidden list for tv shows fanart background -->
        <control type="list" id="12342">
	        <content sortby="random" limit="25">videodb://tvshows/titles/</content>
	        <include>AutoscrollTime</include>
	        <itemlayout />
	        <focusedlayout />
            <posx>-20</posx>
			<posy>-20</posy>
			<width>1</width>
			<height>1</height>
        </control>
        <control type="list" id="12343">
	        <content sortby="random" limit="25">videodb://movies/sets/</content>
	        <include>AutoscrollTime</include>
	        <itemlayout />
	        <focusedlayout />
            <posx>-20</posx>
			<posy>-20</posy>
			<width>1</width>
			<height>1</height>
        </control>
		<control type="list" id="12344">
	        <content sortby="random" limit="25">videodb://musicvideos/titles/</content>
	        <include>AutoscrollTime</include>
	        <itemlayout />
	        <focusedlayout />
            <posx>-20</posx>
			<posy>-20</posy>
			<width>1</width>
			<height>1</height>
        </control>
		<!-- Hidden list for music fanart background -->
        <control type="list" id="12345">
	        <content sortby="random" limit="25">musicdb://artists/?albumartistsonly=true</content>
	        <include>AutoscrollTime</include>
	        <itemlayout />
	        <focusedlayout />
            <posx>-20</posx>
			<posy>-20</posy>
			<width>1</width>
			<height>1</height>
        </control>        
        <!-- Hidden list for video fanart background -->
        <control type="list" id="12346">
	        <content sortby="random" limit="5">videodb://movies/titles/</content>
	        <content sortby="random" limit="5">videodb://tvshows/titles/</content>
	        <content sortby="random" limit="5">videodb://movies/sets/</content>
		    <content sortby="random" limit="5">videodb://movies/titles/</content>
	        <content sortby="random" limit="5">videodb://movies/sets/</content>
	        <content sortby="random" limit="5">videodb://tvshows/titles/</content>
		    <include>AutoscrollTime</include>
	        <itemlayout />
	        <focusedlayout />
            <posx>-20</posx>
			<posy>-20</posy>
			<width>1</width>
			<height>1</height>
        </control>
        <!-- Hidden list for global fanart background -->
        <control type="list" id="12347">
	        <content sortby="random" limit="5">videodb://movies/titles/</content>
	        <content sortby="random" limit="5">videodb://musicvideos/titles/</content>
	        <content sortby="random" limit="5">videodb://tvshows/titles/</content>
	        <content sortby="random" limit="5">videodb://movies/sets/</content>
	        <content sortby="random" limit="5">musicdb://artists/?albumartistsonly=true</content>
	        <content sortby="random" limit="5">videodb://movies/titles/</content>
	        <content sortby="random" limit="5">videodb://musicvideos/titles/</content>
	        <content sortby="random" limit="5">videodb://movies/sets/</content>
	        <content sortby="random" limit="5">videodb://tvshows/titles/</content>
	        <content sortby="random" limit="5">musicdb://artists/?albumartistsonly=true</content>
	        <include>AutoscrollTime</include>
	        <itemlayout />
	        <focusedlayout />
            <posx>-20</posx>
			<posy>-20</posy>
			<width>1</width>
			<height>1</height>
        </control>
		
		<control type="multiimage">
			<visible>![Player.HasVideo + Skin.HasSetting(Show_Player)]</visible>
			<include>Dimensions_Fullscreen</include>
			<fadetime>400</fadetime>
            <randomize>true</randomize>
            <include>MultiImageTime</include>
			<imagepath background="true">$VAR[HomeBackground]</imagepath>
		</control>
		<control type="visualisation">
			<visible>Player.HasAudio + Skin.HasSetting(Show_Player)</visible>
			<include>Dimensions_Fullscreen</include>
		</control>
		<control type="videowindow">
			<visible>Player.HasVideo + Skin.HasSetting(Show_Player)</visible>
			<include>Dimensions_Fullscreen</include>
		</control>
		<control type="group" description="Content">
			<animation effect="fade" start="0" end="100" time="1000" condition="Window.Previous(Startup.xml)">Conditional</animation>
			<animation effect="fade" start="0" end="100" time="200" condition="!Window.Previous(Startup.xml)">Conditional</animation>
			<include condition="Skin.HasSetting(VerticalHome)">Vertical_Home_Layout</include>
			<include condition="!Skin.HasSetting(VerticalHome)">Horizontal_Home_Layout</include>
			<include>Time</include>
            <!-- Fanart background title -->
			<include condition="[[!Player.Playing + Skin.HasSetting(FanartTitle.InTopBar)] | !Skin.HasSetting(FanartTitle.InTopBar)] + [!Skin.HasSetting(Home_DefaultBG) + Skin.HasSetting(Enable.FanartTitle)]">ShowFanartTitle</include>
			<include condition="Skin.HasSetting(ShowHomeLogo)">HomeClearLogo</include>
			<!-- Hidden list for playlist stats for info line -->
			<control type="group">
				<include condition="System.HasAddon(script.embuary.helper)">PlayListStatsList</include>
			</control>
		</control>
		<include condition="Skin.HasSetting(holiday)">Holiday</include>
	</controls>
</window>